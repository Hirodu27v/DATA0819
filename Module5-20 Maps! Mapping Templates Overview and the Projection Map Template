このビデオでは、Flourishの多彩なマップについて紹介します。それらは少しずつ異なっていて、用途に合わせてデータを可視化できます。
まずはテンプレートの選択です。一つ目はプロジェクションマップです。いろいろなタイプがあり、ヨーロッパ、アメリカの郡、アメリカの下院議員選挙区、州、そしてイギリスなどです。
自分のデータをこのマップにアップロードすることもできます。これについては、プロジェクションマップのビデオに特化した別のビデオで扱います。
基本的にはここに自分のデータをアップロードすることで世界中のどんな地域でも地図を作ることができます。ここに入ってみると、網がかかったアメリカの下院議員選挙区や郡の地図に過ぎません。
地図上にもいくつかポイントがあるのがわかります。それらを組み合わせることができます。
もう一つは地球儀です。これは、世界の二つの異なる地域間のつながりを視覚化するのに非常に便利です。3Dでクールです。Flourishのオリジナルテンプレートで、Webページ上でも印象的です。
この二つの後に一連の地図があります。全て同じ地図タイルがもとになっていますが少しずつ違います。
マーカーマップはロケーターマップのように使用でき、数千行の少量のデータなら対応できます。
別のこの地図は、同じタイルが使われていますが、3Dでズームでき、回転もできます。Arc mapと似ていますが、Arc mapは平面です。
このポイントマップは膨大な行を表すたくさんの点を表示するのに適しています。オプションの時間要素もあります。
3D領域マップでは通常の地図と同じように領域を色付けできますが、空中から見下ろしているように可視化することもできます。
これがマーカーマップです。素晴らしい3Dマップタイルがあり、拡大して見ることができます。また、さまざまな角度でパンすることもできます。
隅にはオプションの全体マップがあり、ジオメトリを追加できます。ここからは、プロジェクションマップテンプレートについてさらに詳しく説明します。
これがプロジェクションマップです。最も頻繁に使用されるテンプレートの一つなので、2番目の表示順になっています。
特徴を説明する前に、ここから始めたいと思います。テンプレートを選択する前に、どのようなオプションがあるのかを確認できるようにするためです。
プロジェクションマップは一見、世界のさまざまな場所の地図に見えます。アルゼンチン、ブラジル、ヨーロッパ、イギリス、アメリカ…ロンドンの地図も世界地図もあります。もしあなたが作りたい地図がこのようなものならすぐにでも着手できます。
しかし、そうではない場合、なにもない空白から始めなくてはなりません。クリックすれば実行できます。
両方の方法をお見せします。ロンドン自治区の地図を作りたいとしましょう。マップには二つの異なるレイヤーがあります。
設定パネルを見てみましょう。ポイントレイヤーを有効にし、regionレイヤーを作成します。これで、両方のポイントレベルデータ、regionデータやジオメトリデータをプロジェクションマップにアップロードすることができます。
初めからすでに両方のジオメトリが存在します。ポイントデータも存在しますが、自治区の中心点のような、ダミーに近いデータです。
アメリカの州地図における主要都市のようなものです。regionには常にジオメトリ列があり、ここに描画される地域の実際の座標と形状が格納されます。
既存の地図を使うのであれば、この欄はあまりいじらなくてもいいでしょう。この設定を取り除くと右側の画面からジオメトリが消えてしまいます。
マップを描画するポリゴンまたはマルチポリゴンが必要なのが分かりましたか。続いて通常の設定があります。自治区の名前を入力します。そしてこの値を設定します。これが地図の地域を色付けするものです。
今回の地図はC列の値で色分けされます。これはその自治区にいる、英語を母語としない学齢期の子どもたちの割合です。最も高いのはタワーハムレッツですね。とても興味深い。

値は連続データでも、カテゴリーデータでも構いません。D列はインナーロンドンかアウターロンドンかですから、カテゴリーデータです。ここで連続データだとか、順序データというのを選べます。たくさんの色の設定があります。binnedに変更します。次に順序データか分岐データかを選びます。正と負の値があるので、分岐データにしましょう。

ここでカテゴリーデータだとどうなるのかを見てみましょう。二つ変更しなければいけないことを忘れる人もいるので気を付けて。値をC列（の参照）からD列に変えて、データ型もカテゴリカルに変更しなければなりません。そうしないと、テンプレートは、データシートから読み取ったカテゴリーデータをどのように処理すべきかを認識できません。

自分が正しい操作をしていると思い込んでいる人からたくさんメールが来ますが、実際にはカラーパレットを変更していないことが多いです。
他のチャートと同じようにカラーパレットから選ぶことができます。自治区を表現するあまたの設定が他にもあります。ポップアップや、必要に応じて影などを追加できます。また、メタデータを追加する場合は、メタデータ列の設定を使用していつでも追加できます。
ホバリングすると母語が英語以外の人の数が表示されます。
次にポイントレイヤーに移動して、仕組みを説明します。緯度と経度が必要なのでここに入力します。最初が経度、次が緯度なので正しいデータを入力するよう気を付けて。ここで間違って実行して「なんで表示されないるのか」と思う人もいるでしょう。

さておき、他の設定に進みましょう。値によってドットのサイズを変えましょう。
名前の列は必要なければ削除できます。別のカテゴリーデータがあるなら、（それに基づき）ドットの色を追加できます。

メタデータの設定も可能です。ポイントレイヤー（に読み込むデータがあるなら、）さっきと同様の手順でregionレイヤーを描画できます。カテゴリーデータがない場合は、（背景と同じような）緑色にしたり、ほぼ透明にしたりできます。
マップをカスタマイズするためのさまざまな設定があります。ヘッダや行などを追加することもできます。凡例をオフにすることができます。サイズの凡例もやめてしまいましょう。
空白の地図はまた別の設定が必要です。ジオメトリはここのregionsレイヤにアップロードします。今のところ何もないのを確認しておきます。
GeoJSONファイルは ".GeoJSON"か".JSON"の拡張子を持ちます。私たちのブログ記事には、シートファイルなどからGeoJSONファイルを作成するためのヒントがたくさんあります。 見投影のGeoJSONファイルでなければいけません。GeoJSONファイルでなかったり、未投影ではないファイルを使おうとしても、エラーが返ってくるはずです。
この例では、適切でクリーンな未投影のGEOJSONファイルがあるので、それをアップロードして現在のシートを上書きします。
これはシカゴ周辺の地図、見慣れたものがたくさんあります。最初の列はマルチポリゴンを指定しており、これがジオメトリの列です。名前は地域、C列のエリアが値の列になっています。C列はすべて同じ数字なので、地図全体が同じ色になっています。簡単でしょう。
他のFlourishテンプレートとは異なり、このデータシートはデータファイルをマージすることができます。（D列以降の）全てのデータを消してしまいます。
FlourishがGeoJSONをこのような状態で読み込んだとして、他のデータを追加して、これをコロプレス地図にしたいと思います。
Flourishはデータを統合することができます。その仕組みをお見せしましょう。ジオメトリをアップロードしたら、次にこれをクリックしてデータを再入力します。
最初は奇妙に感じるでしょうがうまくいきます。私のコンピュータには同じ地域の名前を含む別のCSVがあり、その地域に関するデータがたくさんあります。ここをクリックします。ここが最も重要な部分です。現在のシートを上書きする代わりに、現在のシートとの結合をクリックします。次に地域を選択します。（結合のキーとなる）名前は互いに一致しなければなりません。両方とも地域の名前にします。
最初の二つを見比べてみて、同じ順番になっていなくても大丈夫です。名前のプレビューが表示されます。（同じ順番に並んでいなくても）これらのデータシートを一致させてマージすることは可能です。
「merge」をクリックすると、素晴らしいことに、77行がインポートされたことを示しています。
他のシートに一致しない行がある場合は、それらが除外されたことがここに表示されます。でも、ぴったり合っていて除外されなかったので、よかったです。空だった列にはそれぞれの地域に関する情報が表示されています。
でも、エリアの列はいらないので、削除します。代わりに貧困線以下の世帯（の割合）を表すD列を色分けします。これがどのように変化したかご覧ください。貧困線以下の世帯の割合で色分けしています。これは素晴らしいことです。ここでは、複数の異なる値を指定することもできます。
一つの地図に複数のもの、貧困線以下の世帯と失業率を表示したい場合それを加えることができます。二つの値を行き来できるドロップダウンメニューを表示できます。
これは非常に便利です。（複数のチャートをまとめた）ストーリーではなく、一枚の地図で表現できます。
最後にお見せしたいのはポイントデータのCSVデータをインポートすることです。ここに別のCSVがあるので、ポイントシートにアップロードします。2017年にシカゴで殺人事件が発生した地点を表す緯度と経度はたくさんありますね。
見てみましょう。うまく描画できていないので、何が起きているのか確かめます。
データシートは緯度、経度の順なので、ここには何も表示されません。
しかし、Flourishでは、デフォルトは緯度の前に経度がきます。私がすべきことは順番を変えることだけです。
これでいいはずです。ドットのサイズを変えることができるデータは何もないので、ここには入力しません。これらの点はシカゴで一年の間に起きた様々な殺人事件です。場所のタイプなどでドットに色をつけることができます。
これは全シリーズの中で一番長いビデオだと思います。しかし自分のデータをアップロードしてマップを作る（方法を説明する）ビデオは大変役立つことでしょう。それというのも、あなたがつまづきやすい場所はあちこちにあるからです。どこでつまづきやすいかを指摘することで、あなたがミスを回避することを願っています。自らプロジェクションマップを作ることに興味がありましたら、関連するブログや、別のビデオを準備しています。お役に立てればいいのですが。
