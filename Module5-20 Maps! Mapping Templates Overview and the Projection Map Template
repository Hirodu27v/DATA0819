Maps! Mapping Templates Overview and the Projection Map Template
このビデオでは、Flourishの多彩なマップについて紹介します。それらは少しずつ異なっていて、用途に合わせてデータを可視化できます。
まずはテンプレートの選択です。一つ目は投影マップです。いろいろなタイプがあり、ヨーロッパ、アメリカの郡、アメリカの下院議員選挙区、州、そしてイギリスなどです。
自分のデータをこのマップにアップロードすることもできます。これについては、プロジェクションマップのビデオに特化した別のビデオで扱います。
基本的にはここに自分のデータをアップロードすることで世界中のどんな地域でも地図を作ることができます。ここに入ってみると、網がかかったアメリカの下院議員選挙区や郡の地図に過ぎません。
地図上にもいくつかポイントがあるのがわかります。それらを組み合わせることができます。
もう一つは地球儀です。これは、世界の2つの異なる地域間のつながりを視覚化するのに非常に便利です。これは3Dでクールです。Flourishのオリジナルテンプレートで、Webページ上でも印象的です。
この2つの後に一連の地図があります。全て同じ地図タイルがもとになっていますが少しずつ違います。
マーカーマップはロケーターマップのように使用でき、数千行の少量のデータなら対応できます。
別のこの地図は、同じタイルが使われていますが、3Dでズームでき、回転もできます。Arc mapと似ていますが、Arc mapは平面です。
このポイントマップは膨大な行を表すたくさんの点を表示するのに適しています。オプションの時間要素もあります。
3D領域マップでは通常の地図と同じように色のついた領域をシェーディングできますが空中から見下ろしているように可視化することもできます。
これがマーカーマップです。素晴らしい3Dマップタイルがあり、拡大して見ることができます。また、さまざまな角度でパンすることもできます。
隅にはオプションのインセットマップがあり、ジオメトリを追加できます。ここからは、投影マップテンプレートについてさらに詳しく説明します。
これが投影地図です。最も頻繁に使用されるテンプレートの1つであるため、2番目の表示順になっています。
特徴を説明する前に、ここから始めたいと思います。テンプレートを選択する前に、どのようなオプションがあるのかを確認できるようにするためです。
投影地図は当初、世界のさまざまな場所の地図に見えます。アルゼンチン、ブラジル、ヨーロッパ、イギリス、アメリカ…ロンドンの地図も世界地図もあります。もしあなたが作りたい地図がこのようなものならすぐにでも着手できます。
しかし、そうではない場合、なにもない空白から始めなくてはなりません。クリックすれば実行できます。
両方の方法をお見せします。ロンドン行政区の地図を作りたいとしましょう。マップには二つの異なる層があります。
設定パネルを見てみましょう。ポイントレイヤを有効にし、領域レイヤを作成します。これで、両方のポイントレベルデータ、領域データやジオメトリデータを投影マップにアップロードすることができます。
初めからすでに両方のジオメトリが存在します。ポイントデータも存在しますが、行政区の中心点のような、ダミーに近いデータです。
アメリカの州地図における主要都市のようなものです。領域には常にジオメトリ列があり、ここに描画される領域の実際の座標とシェイプが格納されます。
既存の地図を使うのであれば、この欄はあまりいじらなくてもいいでしょう。この設定を取り除くとジオメトリが向こうに見えます。
マップを描画するマルチポリゴンが必要なのです。続いて通常の設定があります。行政区の名前を入力します。そしてこの値を設定します。これが地図です。
値をカテゴリ値に変更してカテゴリ値で色分けするには、データシートの両方の値を変更しなければならない場合があります。これをCからDに変更したら、この色の種類もカテゴリカルに変更しなければなりません。そうしないと、テンプレートは、データ・シートから読み取っているカテゴリー・データをどのように処理すべきかを認識できません。
他のチャートと同じようにカラーパレットを選ぶことができます。ポップアップを追加でき、必要に応じて影などを追加できます。また、メタデータを追加する場合は、メタデータ列の設定を使用していつでも追加できます。
ホバリングすると母語が英語以外の人が表示されます。
次にポイントレイヤーに移動して、仕組みを説明します。緯度と経度が必要なのでここに入力します。最初が経度、次が緯度なので正しいデータを入力するよう気を付けて。
ここで実行して「なんでただの点が表示されるのか」と思う人もいるでしょうが、他の設定もできます。値によって点のサイズを変えましょう。
名前の列は必要なければ削除できます。ドットの色を変えることもできます。ドットに他のカテゴリオプションがある場合は、それを変更して色を追加できます。
マップをカスタマイズするためのさまざまなオプションがあります。ヘッダや行などを追加することもできます。凡例をオフにすることができます。
空白の地図は複雑な設定が必要です。ジオメトリはここのregionsレイヤにアップロードします。今のところ何もないのを確認しておきます。
GeoJSONファイルは ".GeoJSON"か".JSON"の拡張子を持ちます。私たちのブログ記事には、シートファイルなどからGeoJSONファイルを作成するためのヒントがたくさんあります。 
GeoJSONファイルでなかったり、未投影でないファイルを使おうとしても、エラーが返ってくるはずです。
この例では、適切でクリーンな未投影のGEOJSONファイルがあるので、それをアップロードして現在のシートを上書きします。
れはシカゴ周辺の地図、見慣れたものがたくさんあります。最初の列はマルチポリゴンを取り出したもので、これがジオメトリの列です。名前はコミュニティ列にあり、エリアは現在このC値列です。そして、それはすべて同じ数字です。地図全体を同じ色で描くのです。でもほらね。簡単なことです。
他のFlourishテンプレートとは異なり、このデータ・シートはデータ・ファイルをマージすることができます。
FlourishはGeoJSONをこう読みましたが、私は他のデータを追加して、これをクローロプラースとして色を付けたいと思いました。
その仕組みをお見せしましょう。ジオメトリをアップロードしたら、次にこれをクリックしてデータを再入力します。
最初は奇妙に感じるでしょうがうまくいきます。私のコンピュータには同じコミュニティ名を持つ別のCSVがありその近隣についてのデータがたくさんあります。ここをクリックします。ここが最も重要な部分です。現在のシートを上書きする代わりに、現在のシートとの結合をクリックします。次にコミュニティを選択します名前は互いに一致しなければなりません。これらは両方ともコミュニティエリア名です。
名前のプレビューが表示されます。同じオーダーなら大丈夫です。これらのデータシートを一致させてマージすることは可能です。
「merge (マージ)」をクリックすると、素晴らしいことに、77行がインポートされたことを示しています。
他のシートに一致しない行がある場合は、それらが破棄されたことがここに表示されます。でも、ぴったり合っていて捨てられなかったので、よかったです。この空の列にはそれぞれの地域に関する情報が表示されています。
でも、この不要なエリア欄の代わりに、無駄なところがあるので、削除します。代わりに貧困ライン以下の世帯をDの欄で表します。これがどのように変化したかご覧いただけます貧困ライン以下の世帯の割合で色分けしています。これは素晴らしいことです。ここでは、複数の異なる値を指定することもできます。
一つの地図に複数のもの、貧困ライン以下の世帯と失業率を表示したい場合それを加えることができます。二つの値を行き来できるドロップダウンメニューが表示できます。
これは非常に便利です。（複数のチャートをまとめた）ストーリーではなく、一枚の地図で表現できます。
最後にお見せしたいのはポイントデータのCSVデータをインポートすることです。ここに別のCSVがあるので、ポイントシートにアップロードします。2017年にシカゴで殺人事件が発生した地点を表す緯度と経度はたくさんありますね。
見てみましょう。うまく描画できていないので、何が起きているのか確かめます。
データシートは緯度、経度の順なので、ここには何も表示されません。
しかし、Flourishでは、デフォルトは緯度、経度となっています。私がすべきことは順番を変えることだけです。
これでいいはずです。ドットのサイズを変えるべきデータは何もないので、ここには入力しません。これらの点はシカゴで一年の間に起きた様々な殺人です。場所のタイプなどで色をつけることができます。
これは全シリーズの中で一番長いビデオだと思いますが、自分のデータをアップロードしてマップを作るビデオは大変有益です。
なぜなら、あなたが調べて回るべき場所はあちこちにあるからです。投影地図に関するブログや、別のビデオを準備しました。お役に立てればいいのですが。
