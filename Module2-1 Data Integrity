Preparing Data - Data Integrity
このビデオでは「データの完全性」とは何か、またそれがなぜ大切なのかについてお話しします。
これはデータの分析あるいはクリーニングを行うにあたって非常に重要なことです。たとえ話をしましょう。
政府関係者に表を要求して、後でコンピュータで分析しようと思っているとこんなのやこんなのが送られてきます。
これらの違いについて説明しましょう。これは私たちの必要に沿った、データジャーナリズムのワークフローで役立つようには構造化されていないデータです。
こうした表はデータを合計する部分があって、サブカテゴリがあり、空白もあって色付けされています。
こうした要素は人間の可読性を高めるものです。同じく、空白があればデータを識別しやすいでしょう。
ここでは、全てがここにつながっていて、着色されたヘッダがここにあり、結合された列や合計もあります。これは分析のために集計されたテーブルです。
実際のところ、これはスクリーンや紙に印刷された人間のためのテーブルといえるでしょう。
これらのテーブルは、これらのレポートを生成した詳細なデータとともに表示されます。
ご覧になっているような報告書はピボットテーブルやPDFファイルのようによく知られているものですが、計算できないためにコンピュータ分析には全く役立ちません。
ここにあるのはポルトガル語で、月ごとにブラジルの治安についてまとめたものです。年はここ、そして別のタイプのデータはここにあります。
"n/d"というのは「該当なし」か「データなし」です。しかし、これは以前にお見せしたものとは全然違いますよね。
また、こちらのテーブルは近代オリンピック第一回大会のメダル表です。これはポルトガル語で金、銀、銅です。
年と都市や国、メダルの種類がここにあります。そう、これは機械で読み取ることができます。ソフトウェアで処理することも、人間が読むことも、コンピュータ解析にも適しています。
この二つのテーブルの違いは何でしょう？これはさっきのブラジルの治安のデータです。
基本的に聞こえるかもしれませんが、データ分析の上で大切なのはこの部分です。よく構造化されたテーブルは、列にも行にもそれぞれの欄に1種類のデータしかありません。
同じところに数字と文字だとか、都市と国が混在していないのです。ここには、主キーと呼ばれる青色のキーもあります。特定のレジスタに関連付けられている行番号です。
ここに列の名前があります。この列に何があるかを識別し、後で計算できるようにします。
例えば、ここの年の欄は1896年、国の欄にはポルトガル語でアメリカを意味する"Estados Unidos"があります。
一つの国、一つの都市、一つの年が収まっています。こちらをご覧ください。
このテーブルはブラジルのさまざまな空港を示していて、空港名の隣には州の略称が記されています。
トップには合計値があります。これはブラジルの航空便が遅延または欠航した数です。
１行目はたいてい、先ほどお話ししたようにここにあるデータは何かを説明する変数名です。合計値から手を付けて、空港名と州の略称を分割し、遅延と欠航の数値も分離することにしましょう。
繰り返しになりますが、データのタイプごとに一つの列を割り当てる必要があります。これは加除、平均、最大値を求めるなどの計算を行う際に列内に競合するデータを置かないためです。
もちろん重複した行を削除しなければなりません。誤字、脱字にも気を付けて。コンピュータにとっては「door」と「Door」は別物です。

So, it's really important that we maintain the same kind of typing for all of the values that
we have on our data set. So, if we want to do all caps or all lowercase but we need a
standard that we apply for all of the values. The same for this one which has an empty
space before " Door" so empty spaces that are trailing or after the words, before the
words, those are also counted as different entities in a column. So, we need to, we need to
make sure that we have a standard typing for all of the values in the data set. So that's
why it's important in the cleaning phase to remove all of the spaces or fix the typos so that
the data in the column it has integrity. And like I mentioned as well the first row, usually
has the name of the columns and usually we avoid including aggregated data like totals in
the raw data source. That's because we're going to use software that will process the data,
say apply formulas that will add so we don't need the total to be adding or being on top of
the data, the granular data, the raw data that we have. So what we do usually is to remove
all of the totals, and I'm gonna show you examples on the data cleaning class of how we
can make sure that those values are removed so that we have a clean data set to make
calculations later.
And what is the most common format? Usually when we talk about databases we're really
talking about CSV files most of the time. Or we want to have a CSV file because it's an
open format, it's plaintext, it's compatible with almost all if not all of the processing, data
processing applications. And CSV stands for comma-separated values or even
characters-separated values. To create a CSV, they also call it TSV if it's a different
separator, you can create it really easily. A CSV file is just values that are actually
separated by a delimiter. And the delimiter, it could be a comma, or it could be a
semicolon, or it could be this character that's called a pipe, or even could be the tab. So
when you press tab and it gives that space, it could even be that character creating your
CSV or if it's a tab usually you have a convention that you're going to name it a TSV file.

So you just type in, you could create, you know in a text editor you just typing the names
and then you put a comma. And usually what happens is this this first row here, this will be
the columns row and when you create a new line, the new line will be the new row on our
data set, on our database. And then we have the value here, the first value will be for the
first column, the second one for the second one, and so on and so forth.
So really look at what we're doing here with this is creating something like this. So this
code here the CSV code here, will actually create when we visualize in a spreadsheet
program like Google Sheets, will actually see the first row here and then the next row here
with the values for each one of the columns. That's why it's super important for CSV files
to have the same amount of elements in every single line. So it doesn't get mixed up,
right? So it doesn't have, if you have a file that has seven columns like this one, the
second line needs to have seven values as well. Even if it's an empty value it needs a
comma there indicating that's an empty value. The most common delimiters are, like I
mentioned comma, semicolon, pipe and also the tab when you press the tab on your
keyboard. So when you create CSV files, fortunately you don't have to type all of the the
values yourself on on a text editor. Most applications will export the CSV files for us. So
just pay attention to the delimiter that is being used to generate the CSV file. Sometimes
you trying to import a CSV file and then if something goes wrong it didn't recognize the
delimiter depending on the country where you are. There is a convention on the kind of
delimiter that you use, for example in the United States it's a comma. But in Brazil the
standard it's the semicolon. So, that creates some confusion sometimes so you might want
to check that out too if doesn't work in your case.
